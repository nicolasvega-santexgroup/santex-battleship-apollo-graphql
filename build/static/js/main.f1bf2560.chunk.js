(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},104:function(e,t,a){},115:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(21),o=a.n(l),c=a(10),i=a(12),s=a(15),u=a(13),m=a(14),d=a(43),h=a(134),p=a(75),E=a(76),f=new function e(){Object(c.a)(this,e),this.log=function(){var e;return(e=console).log.apply(e,arguments),!0},this.error=function(){var e;return(e=console).error.apply(e,arguments),!0}},b=function e(){Object(c.a)(this,e)};b.initialize=function(){var e=new XMLHttpRequest;e.open("GET","/assets/config.json",!1),e.send(null),200===e.status&&b.setEnvironmentVariables(e.responseText)},b.hasEnvironmentVariables=function(){var e=sessionStorage.getItem("BATTLESHIP");return JSON.parse(e)},b.setEnvironmentVariables=function(e){sessionStorage.setItem("BATTLESHIP",e)},b.get=function(e){try{return JSON.parse(sessionStorage.getItem("BATTLESHIP"))[e]}catch(t){f.log("Unable to retreive environment variable: ",e)}},b.initialize();var g=b,v=new E.a({uri:"".concat(g.get("API_GATEWAY"),"/graphql")}),O=a(23),j=a(69),y=a(70),_=Object(O.c)({}),k=Object(y.createLogger)(),w=Object(O.d)(_,Object(O.a)(j.a,k)),C=a(123),x=a(136),z=function(){return r.a.createElement("div",null,r.a.createElement(x.a,{exact:!0,key:"home",path:"/",component:ee}),r.a.createElement(x.a,{exact:!0,key:"game",path:"/game/:id",component:ge}))},M=(a(95),function(){return r.a.createElement(C.a,{fluid:!0,className:"root-wrapper"},r.a.createElement(H,null),r.a.createElement("div",{className:"content"},r.a.createElement(z,null)))}),S=a(124),A=a(33),N=a.n(A),H=function(){return r.a.createElement("div",{className:N.a.header},r.a.createElement(S.a,{to:"/",className:N.a.header_logo},"Home"),r.a.createElement("div",{className:N.a.header_options},r.a.createElement("ul",{className:N.a.header_buttons},r.a.createElement("li",null,r.a.createElement(S.a,{to:"/stats",className:N.a.header_button},"Stats")))))},T=a(129),P=a(130),I=a(100),Y=a(29),B=a.n(Y),D=a(128),G=(a(77),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.setTime,n=void 0!==a&&a,r=t.useLocalTime,l=void 0!==r&&r,o=t.useSeconds,c="MM/DD/YYYY".concat(n?" - hh:mm".concat(void 0!==o&&o?":ss":""," a"):""),i=l?B.a.utc(e).local():B.a.utc(e);return e?i.format(c):""}),J=function(e){return e&&B.a.isMoment(e)?e.format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):null},L=a(137),R=a(125),q=a(126),F=a(127),V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){a.setState({dropdownOpen:!a.state.dropdownOpen})},a.state={dropdownOpen:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.index,a=e.createdAt,n=e.timePlayed,l=e.currentTurn;return r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,G(a)),r.a.createElement("td",null,n),r.a.createElement("td",null,l.player),r.a.createElement("td",null,r.a.createElement(L.a,{isOpen:this.state.dropdownOpen,toggle:this.toggle},r.a.createElement(R.a,{caret:!0,size:"sm"},"Actions"),r.a.createElement(q.a,null,r.a.createElement(F.a,{header:!0},"See board"),r.a.createElement(F.a,{disabled:!0},"Play")))))}}]),t}(n.Component),W=[{createdAt:J(B()()),timePlayed:0,currentTurn:{id:1,player:"John Doe"}}],X=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={gamesAvailable:[]},a.getRows=function(){return W.map(function(e,t){return r.a.createElement(V,Object.assign({index:t},e))})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,"My current games"),r.a.createElement(D.a,{striped:!0,bordered:!0,hover:!0,dark:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Created At"),r.a.createElement("th",null,"Time Played"),r.a.createElement("th",null,"Turn"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.getRows())))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){a.setState({dropdownOpen:!a.state.dropdownOpen})},a.state={dropdownOpen:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.index,a=e.createdAt,n=e.player;return r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,G(a)),r.a.createElement("td",null,n.name),r.a.createElement("td",null,r.a.createElement(I.a,{color:"info",onClick:this.props.onClick},"Play")))}}]),t}(n.Component),U=[{createdAt:J(B()()),player:{id:2,name:"Donald Trump"}}],Z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={gamesAvailable:[]},a.getRows=function(){return U.map(function(e,t){return r.a.createElement($,Object.assign({index:t},e))})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,"Games Pool"),r.a.createElement(D.a,{striped:!0,bordered:!0,hover:!0,dark:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Created At"),r.a.createElement("th",null,"Player"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.getRows())))}}]),t}(n.Component),K=a(73),Q=a.n(K),ee=function(){return r.a.createElement("div",{className:Q.a.home},r.a.createElement(T.a,null,r.a.createElement(P.a,{xs:{size:12}},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Battleship"))),r.a.createElement(P.a,{xs:{size:4,offset:8},className:"text-right"},r.a.createElement(I.a,{color:"info",onClick:Function.prototype},"New Game"))),r.a.createElement(T.a,null,r.a.createElement(P.a,{xs:"6"},r.a.createElement(Z,null)),r.a.createElement(P.a,{xs:"6"},r.a.createElement(X,null))))},te=-2,ae=-1,ne=0,re="Afloat",le=[{id:1,size:4,status:re},{id:2,size:3,status:re},{id:3,size:3,status:re},{id:4,size:2,status:re},{id:5,size:2,status:re},{id:6,size:2,status:re},{id:7,size:1,status:re},{id:8,size:1,status:re},{id:9,size:1,status:re},{id:10,size:1,status:re}],oe=a(34),ce=a(5),ie=a.n(ce),se=(a(102),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a.clickCell=a.clickCell.bind(Object(oe.a)(Object(oe.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"clickCell",value:function(e,t,a){var n=this.props.onClick;a!==ae&&a!==te&&(a===ne?n(e,t,ae):a>ne&&n(e,t,te))}},{key:"render",value:function(){var e=this,t=this.props,a=t.position,n=t.status,l=ie()("cell",{unchecked:n>=ne,miss:n===ae,hitted:n===te});return r.a.createElement("button",{onClick:function(){return e.clickCell(a.x,a.y,n)},className:l,type:"button"})}}]),t}(n.Component)),ue=(a(104),function(e){var t=e.matrix,a=e.onClick;return r.a.createElement("div",{className:"board"},r.a.createElement("div",{className:"board_elements"},t.map(function(e,n){return e.map(function(e,l){return r.a.createElement("div",{className:"board_element",key:"element_".concat(n,"_").concat(l)},r.a.createElement(se,{position:{x:n,y:l},status:t[n][l],onClick:a}))})})))});ue.defaultProps={matrix:[]};var me=ue,de=a(135),he=a(131),pe=a(132),Ee=a(133),fe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggleModal=function(){return a.setState(function(e){return{modalOpen:!e.modalOpen}})},a.onClickHandler=function(){var e=a.props.onClick;e&&e(),a.toggleModal()},a.renderModal=function(){return r.a.createElement(de.a,{isOpen:a.state.modalOpen,toggle:a.toggleModal,backdrop:!1},r.a.createElement(he.a,{toggle:a.toggleModal},"Surrender"),r.a.createElement(pe.a,null,"Are you sure you want to surrender ?"),r.a.createElement(Ee.a,null,r.a.createElement(I.a,{color:"primary",onClick:a.onClickHandler},"Surrender")," "))},a.state={modalOpen:e.isOpen||!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,this.renderModal(),r.a.createElement(I.a,{color:"warning",onClick:this.toggleModal},"Surrender"))}}]),t}(n.Component),be=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onClick=function(e,t,a){console.log("$ x, y, newStatus",e,t,a)},a.surrenderGame=function(){console.log("$ Player surrenders !")},a.state={matrix:be},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t,a=this;(e=this.state.matrix,t=le,new Promise(function(a){var n=e.length-1,r=e[0].length-1,l=e.map(function(e){return e.slice()});t.forEach(function(e){var t,a,o=Math.floor(2*Math.random()),c=0,i=0,s=!1;do{if(s=!1,c=Math.floor(Math.random()*n),i=Math.floor(Math.random()*r),o){var u=void 0;for(u=0;u<e.size;u+=1)(i+u>r||l[c][i+u]>ne)&&(s=!0)}else{var m=void 0;for(m=0;m<e.size;m+=1)(c+m>n||l[c+m][i]>ne)&&(s=!0)}}while(s);if(o)for(t=0;t<e.size;t+=1)l[c][i+t]=e.id;else for(a=0;a<e.size;a+=1)l[c+a][i]=e.id}),a(l)})).then(function(e){a.setState({matrix:e})})}},{key:"render",value:function(){return r.a.createElement(T.a,{className:"game"},r.a.createElement(P.a,{xs:{size:8,offset:2}},r.a.createElement(me,{matrix:this.state.matrix,onClick:this.onClick})),r.a.createElement(P.a,{xs:{size:8,offset:2},className:"mt-3 text-center"},r.a.createElement(fe,{onClick:this.surrenderGame})))}}]),t}(n.Component),ve=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.ApolloProvider,{client:v},r.a.createElement(p.a,{store:w},r.a.createElement(h.a,null,r.a.createElement(M,null))))}}]),t}(n.Component);a(115),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(117);o.a.render(r.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},33:function(e,t,a){e.exports={header:"Header_header__3zJpq",header_logo:"Header_header_logo__2hk-e",header_options:"Header_header_options__2IofG",header_buttons:"Header_header_buttons__2wtiv",header_button:"Header_header_button__O1mqN"}},73:function(e,t,a){e.exports={home:"Home_home__uiBMO",home_logo:"Home_home_logo__zjXEc",home_button:"Home_home_button__1x9X8"}},79:function(e,t,a){e.exports=a(119)},95:function(e,t,a){}},[[79,2,1]]]);
//# sourceMappingURL=main.f1bf2560.chunk.js.map